{"version":3,"names":[],"mappings":"","sources":["apis.js"],"sourcesContent":["'use strict';\n\nif (window.$) {\n  $(document).ready(function () {\n    var cardTemplateSrc = document.querySelector('script[type=\"text/dot-template\"]').innerText;\n    var cardTemplate = window.doT.compile(cardTemplateSrc);\n\n    $.ajax({\n      type: \"GET\",\n      url: \"https://api.apis.guru/v2/list.json\",\n      dataType: 'json',\n      cache: false,\n      success: function (data) {\n        var fragment = $(document.createDocumentFragment());\n        $.each(data, function (name, apis) {\n          var preferred = apis.preferred;\n          var api = apis.versions[preferred];\n          var info = api.info;\n          var externalDocs = api.externalDocs || {};\n          var contact = info.contact || {};\n          var externalUrl = externalDocs.url || contact.url;\n          var logo = info['x-logo'] || {};\n          // logo.url = logo.url && logo.url.replace(/^https:\\/\\/apis-guru.github.io/, 'https://apis.guru');\n\n          var versions = [];\n          $.each(apis.versions, function (version, api) {\n            if (version === preferred) {\n              return;\n            }\n            versions.push({\n              version: version,\n              swaggerUrl: api.swaggerUrl,\n              swaggerYamlUrl: api.swaggerYamlUrl\n            });\n          });\n\n          var card = cardTemplate({\n            preferred: preferred,\n            api: api,\n            info: info,\n            logo: logo,\n            externalUrl: externalUrl,\n            versions: versions.length ? versions : null,\n            markedDescription: window.marked(info.description || '')\n          });\n          fragment.append($(card));\n        });\n\n        $('#apis-list').append(fragment);\n      }\n    });\n  });\n}\n"],"file":"apis.js","sourceRoot":"/source/"}